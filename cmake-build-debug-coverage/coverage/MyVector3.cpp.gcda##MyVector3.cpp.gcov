        -:    0:Source:/home/kaappo/git/raytracercpp/src/core/common/MyVector3.cpp
        -:    0:Graph:/home/kaappo/git/raytracercpp/cmake-build-debug-coverage/CMakeFiles/Main.dir/src/core/common/MyVector3.cpp.gcno
        -:    0:Data:/home/kaappo/git/raytracercpp/cmake-build-debug-coverage/CMakeFiles/Main.dir/src/core/common/MyVector3.cpp.gcda
        -:    0:Runs:1
        -:    1://
        -:    2:// Created by kaappo on 11.9.2021.
        -:    3://
        -:    4:#include <random>
        -:    5:#include <cmath>
        -:    6:#include <chrono>
        -:    7:#include <cstdlib>
        -:    8:
        -:    9:#include "MyVector3.h"
        -:   10:
        -:   11:
        -:   12:
function _ZNK9MyVector3plERKS_ called 98574600 returned 100% blocks executed 100%
 98574600:   13:MyVector3 MyVector3::operator+ (const MyVector3& other) const {
394266954*:   14:    return {i + other.i, j + other.j, k + other.k};
        -:   15:}
        -:   16:
function _ZlsRSoRK9MyVector3 called 18 returned 100% blocks executed 100%
       18:   17:std::ostream& operator<< (std::ostream& os, const MyVector3& vector3) {
       18:   17-block  0
call    0 returned 18
       54:   18:    os << "(" << vector3.i << ", " << vector3.j << ", " << vector3.k << ")";
call    0 returned 18
call    1 returned 18
call    2 returned 18
call    3 returned 18
       18:   19:    return os;
        -:   20:}
        -:   21:
function _ZNK9MyVector3ngEv called 2257 returned 100% blocks executed 100%
     2257:   22:MyVector3 MyVector3::operator- () const {
295694611:   23:    return {-i, -j, -k};
        -:   24:}
        -:   25:
function _ZNK9MyVector3miERKS_ called 295692354 returned 100% blocks executed 100%
295692354:   26:MyVector3 MyVector3::operator- (const MyVector3& other) const {
295692354:   27:    return *this + -other;
        -:   28:}
        -:   29:
function _ZNK9MyVector3mlEd called 98560000 returned 100% blocks executed 100%
 98560000:   30:MyVector3 MyVector3::operator* (const double other) const {
98560000*:   31:    return {other * i, other * j, other * k};
        -:   32:}
        -:   33:
function _ZNK9MyVector3dvEd called 0 returned 0% blocks executed 0%
    #####:   34:MyVector3 MyVector3::operator/ (double other) const {
   80000*:   35:    return {i / other, j / other, k / other};
        -:   36:}
        -:   37:
        -:   38:
function _ZNK9MyVector3mlERKS_ called 394242257 returned 100% blocks executed 100%
394242257:   39:double MyVector3::operator* (const MyVector3& other) const {
591442257*:   40:    return i * other.i + j * other.j + k * other.k;
        -:   41:}
        -:   42:
function _ZNK9MyVector35crossERKS_ called 2257 returned 100% blocks executed 100%
     2257:   43:MyVector3 MyVector3::cross (const MyVector3& other) const {
    #####:   44:    return {j * other.k - k * other.j, k * other.i - i * other.k, i * other.j - j * other.i};
    %%%%%:   44-block  0
call    0 never executed
        -:   45:}
        -:   46:
function _ZNK9MyVector36lengthEv called 0 returned 0% blocks executed 0%
    #####:   47:double MyVector3::length () const {
   80000*:   48:    return sqrt(squared());
        -:   49:}
        -:   50:
function _ZNK9MyVector37squaredEv called 197120000 returned 100% blocks executed 100%
197120000:   51:double MyVector3::squared () const {
197120000:   52:    return *this * *this;
        -:   53:}
        -:   54:
function _ZNK9MyVector39normalizeEv called 80000 returned 100% blocks executed 100%
    80000:   55:MyVector3 MyVector3::normalize () const {
    80000:   56:    return *this / length();
        -:   57:}
        -:   58:
function _ZNK9MyVector36rotateEdd called 46770 returned 100% blocks executed 100%
    46770:   59:MyVector3 MyVector3::rotate (double yaw, double pitch) const {
    46770:   60:    return {i * cos(yaw) + (k * sin(pitch) + j * cos(pitch)) * sin(yaw), -i * sin(yaw) + (k * sin(pitch) + j * cos(pitch)) * cos(yaw), k * cos(pitch) - j * sin(pitch)};
        -:   61:}
        -:   62:
function _ZNK9MyVector310reflectionERKS_ called 0 returned 0% blocks executed 0%
    #####:   63:MyVector3 MyVector3::reflection (const MyVector3& axis) const {
    #####:   64:    return *this - axis * (2 * (*this * axis) / squared());
        -:   65:}
        -:   66:
function _ZN9MyVector322randomInsideUnitSphereEv called 0 returned 0% blocks executed 0%
    #####:   67:MyVector3 MyVector3::randomInsideUnitSphere () {
    #####:   68:    unsigned seed = std::chrono::system_clock::now().time_since_epoch().count();
    %%%%%:   68-block  0
call    0 never executed
    #####:   69:    std::default_random_engine generator{seed};
branch  0 never executed
branch  1 never executed
        -:   70:
        -:   71:    std::normal_distribution<double> d(0, 1);
        -:   72:
        -:   73:    double i = d(generator);
        -:   74:    double j = d(generator);
        -:   75:    double k = d(generator);
        -:   76:
        -:   77:
    #####:   78:    const MyVector3& normalized = MyVector3(i, j, k).normalize();
call    0 never executed
        -:   79:
        -:   80:
        -:   81:    std::uniform_real_distribution<double> dist(0, 1);
        -:   82:
    #####:   83:    double radius = std::pow(dist(generator), 1.0 / 3.0);
    #####:   84:    return normalized * radius;
        -:   85:}
        -:   86:
function _ZNK9MyVector319inTermsOfComponentsERKS_S1_S1_ called 0 returned 0% blocks executed 0%
    #####:   87:MyVector3 MyVector3::inTermsOfComponents (const MyVector3& i, const MyVector3& j, const MyVector3& k) const {
    %%%%%:   87-block  0
call    0 never executed
        -:   88:    Eigen::Matrix3d A;
    #####:   89:    A << i.i, i.j, i.k, j.i, j.j, j.k, k.i, k.j, k.k;
    %%%%%:   89-block  0
call    0 never executed
call    1 never executed
call    2 never executed
call    3 never executed
call    4 never executed
call    5 never executed
call    6 never executed
call    7 never executed
call    8 never executed
        -:   90:    A.transposeInPlace();
        -:   91:
        -:   92:    Eigen::Vector3d b;
    #####:   93:    b << this->i, this->j, this->k;
call    0 never executed
call    1 never executed
call    2 never executed
    #####:   94:    Eigen::Vector3d x = A.colPivHouseholderQr().solve(b);
        -:   95:
    #####:   96:    return {x[0], x[1], x[2]};
        -:   97:}
        -:   98:
function _ZNK9MyVector316rotateInsideConeEd called 0 returned 0% blocks executed 0%
    #####:   99:MyVector3 MyVector3::rotateInsideCone (double radius) const {
    #####:  100:    if (radius == 0) {
    %%%%%:  100-block  0
branch  0 never executed
branch  1 never executed
    #####:  101:        return *this;
    %%%%%:  101-block  0
        -:  102:    }
        -:  103:
    #####:  104:    const MyVector3& tangent = cross(MyVector3::UP).normalize();
    %%%%%:  104-block  0
call    0 never executed
call    1 never executed
    #####:  105:    const MyVector3& bitangent = cross(tangent).normalize();
call    0 never executed
        -:  106:
    #####:  107:    const unsigned seed = std::chrono::system_clock::now().time_since_epoch().count();
call    0 never executed
    #####:  108:    std::default_random_engine generator{seed};
        -:  109:
        -:  110:    std::normal_distribution<double> normalDistribution(0, 1);
        -:  111:    std::uniform_real_distribution<double> uniformRealDistribution(0, 1);
        -:  112:    std::uniform_real_distribution<double> angleDistribution(0, 2 * M_PI);
        -:  113:
    #####:  114:    double scatterRadius = std::pow(angleDistribution(generator), 1 / 2.0) * radius;
    %%%%%:  114-block  0
        -:  115:
        -:  116:    double angle = angleDistribution(generator);
    #####:  117:    double x = std::cos(angle) * scatterRadius;
    #####:  118:    double y = std::sin(angle) * scatterRadius;
    %%%%%:  118-block  0
        -:  119:
        -:  120:
        -:  121:    return tangent * x + bitangent * y + *this;
        -:  122:
        -:  123:}
        -:  124:
function _ZNK9MyVector3cvbEv called 0 returned 0% blocks executed 0%
    #####:  125:MyVector3::operator bool () const {
    #####:  126:    return squared() != 0;
        -:  127:}
        -:  128:
function _ZNK9MyVector3ooERKS_ called 0 returned 0% blocks executed 0%
    #####:  129:MyVector3 MyVector3::operator|| (const MyVector3& other) const {
    #####:  130:    return bool(*this) ? *this : other;
    %%%%%:  130-block  0
branch  0 never executed
branch  1 never executed
        -:  131:}
        -:  132:
function _ZNK9MyVector35atan2Ev called 0 returned 0% blocks executed 0%
    #####:  133:double MyVector3::atan2 () const {
    #####:  134:    return std::atan2(i, j);
        -:  135:}
        -:  136:
function _ZNK9MyVector34asinEv called 0 returned 0% blocks executed 0%
    #####:  137:double MyVector3::asin () const {
    #####:  138:    return std::asin(k);
        -:  139:}
        -:  140:
        -:  141:const MyVector3& MyVector3::UP = {0, 0, 1};
        -:  142:
        -:  143:const MyVector3& MyVector3::OUT = {0, 1, 0};
        -:  144:
        -:  145:const MyVector3& MyVector3::SIDE = {1, 0, 0};
        -:  146:
function _ZNK9MyVector34getIEv called 494620640 returned 100% blocks executed 100%
494620640:  147:double MyVector3::getI () const {
494620640:  148:    return i;
        -:  149:}
        -:  150:
function _ZNK9MyVector34getJEv called 494620640 returned 100% blocks executed 100%
494620640:  151:double MyVector3::getJ () const {
494620640:  152:    return j;
        -:  153:}
        -:  154:
function _ZNK9MyVector34getKEv called 494620640 returned 100% blocks executed 100%
494620640:  155:double MyVector3::getK () const {
494620640:  156:    return k;
        -:  157:}
        -:  158:
function _ZNK9MyVector33dotERKS_ called 295680000 returned 100% blocks executed 100%
295680000:  159:double MyVector3::dot (const MyVector3& other) const {
        -:  160://    return 0;
295680000:  161:    return i * other.i + j * other.j + k * other.k;
        -:  162:}
        -:  163:
function _ZNK9MyVector3ixEi called 340138 returned 100% blocks executed 25%
   340138:  164:double MyVector3::operator[] (int index) const {
   340138:  165:    switch (index) {
   340138:  165-block  0
branch  0 taken 137170
branch  1 taken 118174
branch  2 taken 84794
branch  3 taken 0
   137170:  166:        case 0:
   137170:  167:            return i;
   137170:  167-block  0
   118174:  168:        case 1:
   118174:  169:            return j;
   118174:  169-block  0
    84794:  170:        case 2:
    84794:  171:            return k;
    84794:  171-block  0
    #####:  172:        default:
    #####:  173:            std::stringstream ss;
    %%%%%:  173-block  0
call    0 never executed
    $$$$$:  173-block  1
call    1 never executed
    #####:  174:            ss << "Invalid dimension " << index << "!";
    %%%%%:  174-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
    %%%%%:  174-block  1
call    3 never executed
branch  4 never executed
branch  5 never executed
    #####:  175:            throw std::runtime_error(ss.str());
    %%%%%:  175-block  0
call    0 never executed
    %%%%%:  175-block  1
call    1 never executed
branch  2 never executed
branch  3 never executed
    %%%%%:  175-block  2
call    4 never executed
    $$$$$:  175-block  3
call    5 never executed
        -:  176:    }
        -:  177:}
        -:  178:
function _ZNK9MyVector3eqERKS_ called 5350 returned 100% blocks executed 80%
     5350:  179:bool MyVector3::operator== (const MyVector3& rhs) const {
    5403*:  180:    return i == rhs.i &&
    5350*:  181:           j == rhs.j &&
    %%%%%:  181-block  0
branch  0 never executed
branch  1 never executed
     5350:  181-block  1
branch  2 taken 53 (fallthrough)
branch  3 taken 5297
       53:  181-block  2
branch  4 taken 0 (fallthrough)
branch  5 taken 53
    #####:  182:           k == rhs.k;
    %%%%%:  182-block  0
branch  0 never executed
branch  1 never executed
    %%%%%:  182-block  1
branch  2 never executed
branch  3 never executed
        -:  183:}
        -:  184:
function _ZNK9MyVector3neERKS_ called 0 returned 0% blocks executed 0%
    #####:  185:bool MyVector3::operator!= (const MyVector3& rhs) const {
    %%%%%:  185-block  0
branch  0 never executed
branch  1 never executed
    #####:  186:    return !(rhs == *this);
        -:  187:}
        -:  188:
        -:  189://int main () {
        -:  190://    std::cout << "Hello, world" << std::endl;
        -:  191://
        -:  192://    MyVector3 a = {0, 0, 1};
        -:  193://
        -:  194://    MyVector3 i = {1, 0, 0};
        -:  195://    MyVector3 j = {1, 1, 0};
        -:  196://    MyVector3 k = {1, 0, 1};
        -:  197://
        -:  198://    std::cout << a.inTermsOfComponents(i, j, k) << std::endl;
        -:  199://}
